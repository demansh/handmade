---
layout: default
---

<div class="product-page-wrapper">

  <div class="product-page">

    <div class="product-page-image splide" role="group" aria-label="Галерея фотографий товара">
      <div class="splide__track">
        <ul class="splide__list">
          {% for img_file in page.gallery_images %}
          <li class="splide__slide">
            <img src="{{ page.gallery_path | relative_url }}{{ img_file }}" alt="{{ page.title }} - фото">
          </li>
          {% endfor %}
        </ul>
      </div>
    </div>

    <div class="product-page-info">
      <h1>{{ page.title }}</h1>
      <div class="price">{{ page.price_display }}</div>
      <div class="product-contact-box">
        <h3 class="contact-title">Свяжитесь с нами, чтобы купить:</h3>
        <div class="product-contact-links">
          <a class="contact-link" href="https://t.me/{{ site.telegram_username }}" ...>
            <i class="contact-icon fa-brands fa-telegram"></i>
            <span>Telegram</span>
          </a>
          <a class="contact-link" href="tel:{{ site.phone_number }}">
            <i class="contact-icon fa-solid fa-phone"></i>
            <span>{{ site.phone_number }}</span>
          </a>
        </div>
      </div>
      <div class="description">
        {{ page.summary }}
      </div>
    </div>
  </div>
  <div class="full-description">
    {{ content }}
  </div>
  <button class="share-button" id="share-button">
    <svg class="share-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
      viewBox="0 0 16 16">
      <path
        d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z" />
      <path
        d="M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z" />
    </svg>
    <span>Поделиться</span>
  </button>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    var splide = new Splide('.splide', {
      type: 'loop',
      perPage: 1,
      autoplay: false,
      arrows: true,
      pagination: true,
    });
    splide.mount();
  });
</script>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const shareButton = document.getElementById('share-button');
    const shareData = {
      title: '{{ page.title | escape }}',
      text: '{{ page.description | escape }}',
      url: '{{ page.url | absolute_url }}'
    };

    if (shareButton) {
      shareButton.addEventListener('click', async () => {
        if (navigator.share) {
          try {
            await navigator.share(shareData);
            console.log('Successfully shared');
          } catch (err) {
            console.error('Share error: ', err);
          }
        } else {
          try {
            await navigator.clipboard.writeText(shareData.url);
            const originalText = shareButton.querySelector('span').textContent;
            shareButton.querySelector('span').textContent = 'Скопировано!';
            setTimeout(() => {
              shareButton.querySelector('span').textContent = originalText;
            }, 2000);
          } catch (err) {
            console.error('Failed to copy: ', err);
          }
        }
      });
    }
  });
</script>